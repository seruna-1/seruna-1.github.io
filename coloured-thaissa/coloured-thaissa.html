<!DOCTYPE html>
<html>

<style>

body {
	width: 100%;
	height: 100%;
	padding: 0px;
	margin: 0px;
}

#actionsMenu {
	width: fit-content;
	margin: auto;
	margin-bottom: 12px;
}

#configSection {
}

.characterDiv {
	width: 100vw;
	heigth: 6vh;
	margin-left: auto;
	margin-right: auto;
	border-style: solid;
	text-align: center;
	font-size: 4vw;
}

</style>

<head>
	<title>coloured name</title>
</head>

<body>

	<div id="actionsMenu">
		<input id="buttonToggleConfigDisplay" type="button" value="Config"></input>
		<div id="configSection">
			<label for="nameInputText">Name</label>
			<input id="nameInputText" type="text"></input>
			<input type="button" id="setName" value="Set"></input>

			<label for="inputWidthPercentage">Width percentage</label>
			<input id="inputWidthPercentage" type="text"></input>
			<input type="button" id="setCharacterDivWidthPercentage" value="Set"></input>

			
		</div>
	</div>
		
	<div id="colouredName"></div>

	<script>

		/* List of avaiable colors */
		const colors = ["Red", "Green", "Blue", "Gray", "Chocolate", "DarkGreen", "Olive", "Plum", "Tomato", "Orange"]

		const configSection = document.getElementById("configSection");

		const colouredName = document.getElementById("colouredName");

		const buttonSetName = document.getElementById("setName");

		buttonSetName.addEventListener("click", consumeName);

		const buttonToggleConfigDisplay = document.getElementById("buttonToggleConfigDisplay");

		buttonToggleConfigDisplay.addEventListener("click", toggleConfigDisplay);

		const nameInput = document.getElementById("nameInputText");

		let name;

		let nameLength;


		/* Pause */
		function sleep(ms) {
			return new Promise(resolve => setTimeout(resolve, ms));
		}

		function isElementHidden (element) {
			return window.getComputedStyle(element, null).getPropertyValue('display') === 'none';
  		}

		
		/*
		Consumes name from name input field.
		This function is bonded to [Set name] button.
		*/
		function consumeName() {
			name = nameInput.value;
			nameLength = name.length;
			return;
		}

		function toggleConfigDisplay() {
			if ( isElementHidden(configSection) ) {
				configSection.style.display = "block";
			}
			else { configSection.style.display = "none"; }
			return;
		}


		async function main() {

			/* Default name */
			name = "Thaissa";
			nameLength = 7;

			/* Position of current character being coloured and displayed */
			let position;

			/* Loop in which characters are displayed with random colors */
			while (1) {
			
				for (position = 0; position < nameLength; position++) {

					/* Creates character box div */
				
					let characterDiv = document.createElement("div");
					
					var colorNumber = Math.floor(Math.random() * 10);
					
					characterDiv.style.backgroundColor = colors[colorNumber];

					characterDiv.setAttribute("class", "characterDiv");

					characterDiv.append( name.charAt(position) );

					colouredName.append(characterDiv);

					
				}

				/* Pause */
				await sleep(1000);

				/* Clears div [colouredName] */
				colouredName.replaceChildren();
			}
		}
		
		main();

	</script>
</body>

</html>
